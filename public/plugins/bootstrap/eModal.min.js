!function(e){e(["jquery"],function(e,t){var a,o="recycle-bin",n="<div>",r="",l="click",s="hide",i="shown.bs.modal",d="submit",c="eFooter",u=s+".bs.modal",f="input",m="danger",p={OK:"Cancel",True:"False",Yes:"No","Yes Delete":"No"},b={},v="modal-body py-2",y=".modal-dialog",h={},g="modal-rec",x={sm:"sm",lg:"lg",xl:"xl"},w="modal-tmp",k={allowContentRecycle:!0,confirmLabel:Object.keys(p)[0],labels:p,loadingHtml:'<h5><i class="fas fa-spinner fa-pulse"></i>Loading...</h5><div class=progress><div class="progress-bar progress-bar-striped active" style="width: 100%"></div></div>',size:r,title:"Attention",autofocus:!1};return(t=t||{}).addLabel=function(e,t){p[e]=t},t.ajax=function(t,o){var n=j();"object"==typeof t&&L(t);var r={async:!0,deferred:n,xhrFields:{withCredentials:!1},loading:!0,title:o||k.title,url:t.url||t,dataType:t.dataType||"text"};t.url&&e.extend(r,t);return e.ajax(r).done(function(e){return a.find("."+v).html(t.success?t.success(e):e),n.resolve(a)}).fail(function(e,o){var l=t.error?t.error(e,o,r):'<div class="alert alert-danger"><strong>XHR Fail: </strong>URL [ '+r.url+"] load fail.</div>";return a.find("."+v).html(l),n.reject(e)}),H(r,o)},t.alert=H,t.close=T,t.confirm=function(t,a){var o=j();"object"==typeof t&&L(t);return H({async:!0,buttons:[{close:!0,click:n,text:p[t.label]?p[t.label]:p[k.confirmLabel],style:t.style&&t.style[0]||m},{close:!0,click:n,text:p[t.label]?t.label:k.confirmLabel,style:t.style&&t.style[1]}],deferred:o,message:t.message||t,onHide:n,size:t.size,title:t.title||a});function n(t){T();var a=e(t.currentTarget).html();return p[a]?o.resolve():o.reject()}},t.emptyBin=function(){return e("#"+o+" > *").remove()},t.iframe=function(t,a){var o=j();"object"==typeof data&&L(data);var n=t.data?Object.keys(t.data).map(function(e){return e+'="'+t.data[e]+'"'}).join(" "):"",r='<div class="modal-body py-2" style="position: absolute;width: 100%;background-color: rgba(255,255,255,0.8);height: 100%;">%1%</div><iframe class="embed-responsive-item" frameborder=0 src="%0%" %2% style="width:100%;height:75vh;display:block;"/>'.replace("%0%",t.message||t.url||t).replace("%1%",k.loadingHtml).replace("%2%",n),l=(s="3.0.0",i=e.fn.jquery.split("."),d=s.split("."),c=i[0],u=i[1],f=i[2],m=d[0],p=d[1],b=d[2],m>c||m===c&&p>u||m===c&&p===u&&b>f?e(r).load(v):e(r).on("load",v));var s,i,d,c,u,f,m,p,b;return H({async:!0,buttons:t.buttons||!1,deferred:o,message:l,size:t.size||x.xl,title:t.title||a});function v(){return e(this).parent().find("div."+w).fadeOut(function(){e(this).remove()}),o.resolve()}},t.prompt=function(t,o){var n=j();"object"==typeof t&&L(t);var l,s={deferred:n};"object"==typeof t?e.extend(s,t):(s.message=t,s.title=o);if(s.async=!0,s.buttons)for(var i=0,c=s.buttons.length;i<c;i++)(l=s.buttons[i]).style=(l.style||"default")+" pull-left",l.type=l.type||"button";var u=C([{close:!0,type:"reset",text:p.OK,style:m},{close:!1,type:d,text:k.confirmLabel}].concat(s.buttons||[]));return s.buttons=!1,s.onHide=b,s.message=e('<form role=form style="margin-bottom:0;"><div class="modal-body py-2"><label for=prompt-input class=control-label>'+(s.message||r)+'</label><input type=text class=form-control required autocomplete="on" value="'+(s.value||r)+(s.pattern?'" pattern="'+s.pattern:r)+'"></div></form>').append(u).on(d,b),H(s);function b(e){var t=a.find(f).val();return T(),e.type!==d?n.reject(t):n.resolve(t),!1}},t.setId=function(e){z(!0).find(y).prop("id",e)},t.setEModalOptions=L,t.setModalOptions=function(t){return a&&a.remove(),e.extend(h,t)},t.size=x,t.version="1.2.67",t;function j(){var t,a;try{a=require("Q")}catch(e){a=window.Q}return a?t=a.defer():(t=e.Deferred()).promise=t.promise(),t.promise.element=z(!0).find(y),t}function C(t){if(!1===t)return r;var a=e(n).addClass("modal-footer py-1").prop("id",c);if(t)for(var o=0,s=t.length;o<s;o++){var i=t[o],d=e("<button>").addClass("btn btn-"+(i.style||"primary"));for(var u in i)if(i.hasOwnProperty(u))switch(u){case"close":i[u]&&d.attr("data-dismiss","modal").addClass("x");break;case l:var f=i.click.bind(z(!0).find(".modal-content"));d.click(f);break;case"text":d.html(i[u]);break;default:d.attr(u,i[u])}a.append(d)}else a.append('<button class="x btn btn-primary" data-dismiss=modal type=button>Close</button>');return a}function z(t){return a||(e("#"+o).length||e("body").append(e(n).prop("id",o).hide()),a=e('<div class="modal fade"  data-backdrop="static" data-keyboard="false" tabindex="-1" style="z-index: 99999; background: rgba(1,1,1,.5);"><style>.modal-xl{width:96%;}.modal-body{max-height: calc(100vh - 145px);overflow-y: auto;}</style><div class=modal-dialog><div class=modal-content> <div class="modal-header py-2"><h5 class=modal-title></h5><button type=button class="x close" data-dismiss=modal aria-label="Close"><span aria-hidden=true>&times;</span></button></div></div></div></div>').on("hidden.bs.modal",O).on(l,"button.x",function(t){var o=e(t.currentTarget);if(o.prop("type")!==d)return a.modal(s);try{if(o.closest("form")[0].checkValidity())return T()}catch(e){return T()}return a})),t&&a?a:(k.autofocus&&a.on(i,function(){e(this).find(f).first().focus()}),a)}function O(){if(a){var e=a.find("."+g).removeClass(g).appendTo("#"+o);a.off(u).off(i).find(".modal-content > div:not(:first-child)").remove(),k.allowContentRecycle&&!b.clone||e.remove()}}function H(t,o){!function(t,a){if(!t)throw new Error("Invalid parameters!");O(),b=t;var o=z(),n="modal-"+(t.size||k.size);o.find(y).removeClass("modal-sm modal-lg modal-xl").addClass(t.size||k.size?n:null),o.find(".modal-title").html((t.title||a||k.title)+" ").append(e("<small>").html(t.subtitle||r)),o.on(u,t.onHide)}(t,o);var l=t.deferred||j();"object"==typeof t&&L(t);var s,d=e(n).append(function(t){var a,o=t.loading?k.loadingHtml:t.message||t;return o.on||o.onclick?(a=!0===t.clone?e(o).clone():e(o)).addClass(t.useBin&&!t.loading?g:w):a=e(n).attr("style","position:relative;word-wrap:break-word;").addClass(v).html(o),t.css&&t.css!==a.css&&a.css(t.css),a}(t),C(t.buttons));return s=d,a.modal(h).find(".modal-content").append(s),t.async||a.on(i,l.resolve),l.promise}function L(t){return e.extend(k,t)}function T(){return a&&a.off(u).modal(s),a}})}("function"==typeof define&&define.amd?define:function(e,t){this.eModal="undefined"!=typeof module&&module.exports?t(require(e[0],{}),module.exports):t(window.$)});
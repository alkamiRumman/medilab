{"version":3,"sources":["server/utils/importFiles.ts"],"names":[],"mappings":"AAIA,wBAAsB,WAAW,CAAC,QAAQ,EAAE,MAAM,GAAG,MAAM,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,OAAO,CAAC,GAAG,EAAE,CAAC,CAiBhG","file":"importFiles.d.ts","sourcesContent":["import * as globby from \"globby\";\nimport {$log} from \"ts-log-debug\";\nimport {cleanGlobPatterns} from \"./cleanGlobPatterns\";\n\nexport async function importFiles(patterns: string | string[], exclude: string[]): Promise<any[]> {\n  const files = globby.sync(cleanGlobPatterns(patterns, exclude));\n  const symbols: any[] = [];\n\n  for (const file of files) {\n    try {\n      const exports = await import(file);\n      Object.keys(exports).forEach(key => symbols.push(exports[key]));\n    } catch (er) {\n      /* istanbul ignore next */\n      $log.error(er);\n      /* istanbul ignore next */\n      process.exit(-1);\n    }\n  }\n\n  return symbols;\n}\n"],"sourceRoot":"../../../src"}